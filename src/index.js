import Phaser from "phaser"
import BootScene from "./scenes/Boot"
import SplashScene from "./scenes/Splash"
import GameScene from "./scenes/Game"
import config from "./config"

const gameConfig = Object.assign(config, {
  scene: [BootScene, SplashScene, GameScene],
})

class Game extends Phaser.Game {
  constructor() {
    super(gameConfig)
  }
}

window.game = new Game()

// if (window.cordova) {
//   var app = {
//     initialize: function() {
//       document.addEventListener(
//         "deviceready",
//         this.onDeviceReady.bind(this),
//         false
//       )
//     },

//     // deviceready Event Handler
//     //
//     onDeviceReady: function() {
//       this.receivedEvent("deviceready")

//       // When the device is ready, start Phaser Boot state.
//       window.game.state.start("Boot")
//     },

//     receivedEvent: function(id) {
//       console.log("Received Event: " + id)
//     },
//   }

//   app.initialize()
// }

// if ("serviceWorker" in navigator) {
//   window.addEventListener("load", () => {
//     navigator.serviceWorker
//       .register("/service-worker.js")
//       .then((registration) => {
//         console.log("SW registered: ", registration)
//       })
//       .catch((registrationError) => {
//         console.log("SW registration failed: ", registrationError)
//       })
//   })
// }
